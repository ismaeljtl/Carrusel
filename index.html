<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Carrusel</title>
    <style>
        .container{
            border: solid 1px red;
            width: 50%;
            height: 100px;   
            position: relative;
            margin-top: 50px;
            margin-left: auto;
            margin-right: auto;
        }
        .tarjeta{
            border: solid 1px red;
            width: 100px;
            height: 100px;
            position: absolute;
        }
        .boton{
            margin-top: 75px;
            text-align: center;
        }
        .a{ 
            background-color: coral;
            left: 0; 
            z-index: 0;
        }
        .b{ 
            background-color: orangered; 
            transform: scale(1.5, 1.5);             
            left: calc(25% - 50px);
            z-index: 1;
        }
        .c{ 
            background-color: purple; 
            transform: scale(2, 2); 
            left: calc(50% - 50px);
            z-index: 2;
        }
        .d{ 
            background-color: steelblue; 
            transform: scale(1.5, 1.5); 
            right: calc(25% - 50px);
            z-index: 1;
        }
        .e{ 
            background-color: cadetblue; 
            right: 0; 
            z-index: 0;
        }  

        @keyframes BtoA {
            from{
                left: calc(25% - 50px);
                transform: scale(1.5, 1.5);
                z-index: 1;                
            }
            to{
                left: 0;
                transform: scale(1, 1); 
                z-index: 0;                               
            }
        }

        @keyframes AtoB {
            from{
                left: 0;
                transform: scale(1, 1); 
                z-index: 0;                
            }
            to{
                left: calc(25% - 50px);
                transform: scale(1.5, 1.5);
                z-index: 1;                              
            }
        }

        @keyframes CtoB {
            from{
                left: calc(50% - 50px);
                transform: scale(2, 2);
                z-index: 2;                
            }
            to{
                left: calc(25% - 50px);
                transform: scale(1.5, 1.5); 
                z-index: 1;                               
            }
        }

        @keyframes BtoC {
            from{
                left: calc(25% - 50px);
                transform: scale(1.5, 1.5); 
                z-index: 1;                 
            }
            to{
                left: calc(50% - 50px);
                transform: scale(2, 2);
                z-index: 2;                                
            }
        }

        @keyframes DtoC {
            from{
                left: calc(75% - 50px);
                transform: scale(1.5, 1.5);
                z-index: 1;
                
            }
            to{
                left: calc(50% - 50px);
                transform: scale(2, 2);
                z-index: 2;            
            }
        }   

        @keyframes CtoD {
            from{
                left: calc(50% - 50px);
                transform: scale(2, 2);
                z-index: 2; 
            }
            to{
                left: calc(75% - 50px);
                transform: scale(1.5, 1.5);
                z-index: 1;            
            }
        }  

        @keyframes EtoD {
            from{
                right: 0;
                transform: scale(1, 1);
                z-index: 0;
            }
            to{
                right: calc(25% - 50px);
                transform: scale(1.5, 1.5);
                z-index: 1;
            }
        }   

        @keyframes DtoE {
            from{
                right: calc(25% - 50px);
                transform: scale(1.5, 1.5);
                z-index: 1;
            }
            to{
                right: 0;
                transform: scale(1, 1);
                z-index: 0;
            }
        }   

        @keyframes AtoE {
            from{
                left: 0;
                z-index: 0;
            }
            to{
                left: calc(100% - 100px);
                z-index: 0;      
            }
        }  

        @keyframes EtoA {
            from{
                left: calc(100% - 100px);
                z-index: 0; 
            }
            to{
                left: 0;
                z-index: 0;    
            }
        }   
    </style>
</head>
<body>
    <div class="container">
        <div class="tarjeta a" id="a">A</div>
        <div class="tarjeta b" id="b">B</div>
        <div class="tarjeta c" id="c">C</div>
        <div class="tarjeta d" id="d">D</div>
        <div class="tarjeta e" id="e">E</div>        
    </div>
    <div class="boton">
        <button id="prev"><<</button>
        <button id="next">>></button>        
    </div>

    <script>
        var $prev = document.getElementById('prev');
        var $next = document.getElementById('next');

        $prev.addEventListener('click', function(){
            const $tarjetas = Array.from( document.getElementsByClassName('tarjeta') )
            $tarjetas.forEach(function($tarjeta){
                if ($tarjeta.classList.contains('a')){
                    $tarjeta.style.animation = 'AtoE 1s linear forwards';
                    $tarjeta.className = 'tarjeta e';
                }
                else if ($tarjeta.classList.contains('b')){
                    $tarjeta.style.animation = 'BtoA 1s linear forwards';  
                    $tarjeta.className = 'tarjeta a';
                }
                else if ($tarjeta.classList.contains('c')){
                    $tarjeta.style.animation = 'CtoB 1s linear forwards';  
                    $tarjeta.className = 'tarjeta b';
                }
                else if ($tarjeta.classList.contains('d')){
                    $tarjeta.style.animation = 'DtoC 1s linear forwards';   
                    $tarjeta.className = 'tarjeta c';
                }
                else if ($tarjeta.classList.contains('e')){
                    $tarjeta.style.animation = 'EtoD 1s linear forwards';   
                    $tarjeta.className = 'tarjeta d';                                     
                }
            })
        })

        $next.addEventListener('click', function(){
            const $tarjetas = Array.from( document.getElementsByClassName('tarjeta') )
            $tarjetas.forEach(function($tarjeta){
                if ($tarjeta.classList.contains('a')){
                    $tarjeta.style.animation = 'AtoB 1s linear forwards';
                    $tarjeta.className = 'tarjeta b';
                }
                else if ($tarjeta.classList.contains('b')){
                    $tarjeta.style.animation = 'BtoC 1s linear forwards';  
                    $tarjeta.className = 'tarjeta c';
                }
                else if ($tarjeta.classList.contains('c')){
                    $tarjeta.style.animation = 'CtoD 1s linear forwards';  
                    $tarjeta.className = 'tarjeta d';
                }
                else if ($tarjeta.classList.contains('d')){
                    $tarjeta.style.animation = 'DtoE 1s linear forwards';   
                    $tarjeta.className = 'tarjeta e';
                }
                else if ($tarjeta.classList.contains('e')){
                    $tarjeta.style.animation = 'EtoA 1s linear forwards';   
                    $tarjeta.className = 'tarjeta a';                                     
                }
            })
        })
    </script>
</body>
</html>